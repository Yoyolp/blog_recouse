---
title: C语言学习笔记05
---
文件概念

<!--more-->

## 文件分类:

+ 普通文件
+ 设备文件 ： 把外部设备也看做一个一个文件来进行管理，把他们的输入，输出等同于对磁盘文件的读和写
+ 文件夹

#### 常见文本文件的编码:

* unicode: ff fe
* unicode-big: fe ff      <- 小段序
* utf-8: ef bb bf

## 文件系统：

文件系统指的是操作系统中用于组织和管理磁盘上文件的方法以及数据结构。文件系统负责为用户建立文件，存入。读出修改转储，控制等等

## 文本文件与二进制文件

文本文件基于字符编码，以固定长度的二进制序列以固定长度的二进制序列进行编码和解码，而二进制文件是基于值编码的文件，二进制文件是边长的，具体长度是由具体的格式决定的

，EXE or EMP 二进制文件夹

## 文件创建（打开）和关闭

我可以使用fopen())床架一个新的文件或者打开一个已有的文件，这个调用会初始化类型FILE 的一个对象，类型FILE 包含的用来控制流的必要信息

```c
FILE *fopen( const char *filename, const char *mode );

```

| 模式 | 表述                                                                                                                 |
| ---- | -------------------------------------------------------------------------------------------------------------------- |
| r    | 打开一个已有的文本文件，允许读取文件                                                                                 |
| w    | 打开一个文本文件，允许写入文件，如果文件不存在，则会创建一个新文件，在这里，您的程序会从文件的开头写入内容           |
| a    | 打开一个文本文件，以追加模式写入文件，如果文件不存在，则会创建一个新的文件，在这里，你的程序会在已有的文件中追加内容 |
| r+   | 打开一个文本文件，允许读写文件                                                                                       |
| w+   | 打开一个文本文件，允许读写文件。如果我呢见已经存在，则文件会被阶段为零长度，如果文件不存在，则会创建一个新的文件     |
| a+   | 打开一个文本文件，允许读写文件。如果文件不存在，则会创建一个新的文件。读取会从文件的开头开始，写入则只能是追加模式   |

如果处理的是二进制文件，则需要使用下面的访问模式来取代上卖弄的访问模式

```c
"rb", "wb", "ab", "rb+", "r+b", "wb+", "w+b", "ab+", "a+b"
```

为了关闭文件请使用fclose() 函数。函数的使用原型如下：

```c
int fclose(FILE *fp);
```

如果成功关闭文件，fclose() 函数返回0，如果关闭文件时发生错误，函数返回EOF。这个函数实际上，会清空缓冲区中的数据，关闭我呢见，并释放该文件中的所有内存

。EOF 是一个定义在头文件stdio.h 中的常量。

### 写入文件
